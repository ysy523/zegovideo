
<app-header></app-header>

<div class="main-container">
  
  
  <div class="user-list-container">
  

    <div class="search-pagination-container">
      <div class="search-box">
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (input)="onSearch()"
          placeholder="Search users..."
          class="search-input"
        >
      </div>
   
    </div>
    <div class="user-list">
      <div class="list-header">
        <h2>User List</h2>
        <button 
          (click)="refreshUsers()" 
          [disabled]="isLoading"
          class="refresh-button"
        >
          <i class="fas fa-sync-alt" [class.spinning]="isLoading"></i>
          {{ isLoading ? 'Refreshing...' : 'Refresh' }}
        </button>
      </div>

      <div class="user-card" *ngFor="let user of displayedUsers">
        <div class="user-info">
          <span class="user-name">{{ user.userName }}</span>
        </div>
        
        <button class="call-button" (click)="openModal(user?.userID, user.userName)">
          Create Room
        </button>
      </div>
    </div>

    <!-- 分页控件 -->
    <div class="pagination">
      <button 
        [disabled]="currentPage === 1"
        (click)="changePage(currentPage - 1)"
        class="page-btn prev"
      >
        Previous
      </button>
      <span class="page-info">
        Page {{currentPage}} of {{totalPages}}
      </span>
      <button 
        [disabled]="currentPage === totalPages"
        (click)="changePage(currentPage + 1)"
        class="page-btn next"
      >
        Next
      </button>
    </div>
  </div>
</div>
<!-- <div class="invite-link-box">

  <p>Invite Link:</p>
  <div class="invite-link">
    <input type="text" [value]="inviteLink" readonly>
    <button class="call-button" (click)="copyInviteLink()">Copy Invite Link</button>
  </div>
</div> -->


<!-- <div class="video-container">
<div class="video-grid">
  <div class="video-wrapper local-video">
    <video id="local-video" autoplay playsinline muted></video>
    <div class="video-overlay">
      <span class="participant-name">You</span>
    </div>
  </div>


  <div class="video-wrapper remote-video">
    <h3>Remote Video</h3>
    <video id="remote-video" autoplay playsinline></video>
    <div class="video-overlay">
      <span class="participant-name">Remote User</span>
    </div>
  </div>
</div>


</div> -->




